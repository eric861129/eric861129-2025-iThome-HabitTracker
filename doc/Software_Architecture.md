# 軟體架構設計

## 1. 架構總覽 (Architecture Overview)

本專案將採用現代 Web 開發中成熟且高效的**前後端分離 (Frontend-Backend Separation)** 架構。這種模式將整個系統劃分為兩個主要部分：使用者直接互動的「前端」應用，以及在遠端伺服器上處理核心邏輯的「後端」服務。

這樣的設計能讓開發團隊分工合作，提升效率，並為未來的系統擴展打下穩固的基礎。

**技術選型 (Technology Stack):**
* **前端 (Frontend):** 我們將使用標準的 **HTML, CSS, 和 JavaScript** 來建構使用者介面。這確保了應用程式輕量、快速，且在所有現代瀏覽器上都能順暢運行。
* **後端 (Backend):** 我們選擇 **Python** 語言搭配其簡潔的 **Flask** 框架。這組合非常適合快速開發，同時也保有處理複雜功能的強大能力。

---

## 2. 架構分層說明 (Architectural Layers Explained)

我們的系統遵循經典的**三層式架構 (Three-Tier Architecture)**，將不同職責清晰地劃分開來：

### 第一層：表現層 (Presentation Tier / Frontend)
* **角色:** 這是使用者在瀏覽器中唯一能看到並直接互動的部分，也就是我們的網站介面。
* **職責:**
    * 負責應用程式的「外觀」與「感覺」。
    * 呈現從後端伺服器獲取的資料（如您的習慣列表）。
    * 將您的操作（如點擊「完成」按鈕）轉化為給後端的指令。

### 第二層：應用層 (Application Tier / Backend)
* **角色:** 這是整個應用程式的「大腦」與「引擎」，運行在我們遠端的伺服器上，使用者無法直接接觸。
* **職責:**
    * 接收並處理來自前端的指令（例如「新增一個習慣」）。
    * 執行所有的核心業務邏輯（例如驗證使用者身份、計算連續打卡天數）。
    * 與資料庫溝通，進行資料的存取。

### 第三層：資料層 (Data Tier / Database)
* **角色:** 這是應用程式的「長期記憶體」，一個專門用來安全、有條理地儲存所有資料的地方。
* **職責:**
    * 持久化儲存所有使用者資料，如帳號資訊、習慣內容、心情紀錄等。
    * 確保資料的完整性與安全性，並提供高效的查詢能力。

---

## 3. 互動流程與架構圖 (Interaction Flow & Architecture Diagram)

當您使用這個應用程式時，這三層架構會像這樣協同工作：

1.  您在**前端**介面進行操作（例如，新增一個習慣）。
2.  前端將您的操作打包成一個標準的 **HTTP 請求**，透過網路發送給**後端**。
3.  後端接收到請求，執行相應的邏輯，並指令**資料庫**儲存這筆新習慣。
4.  資料庫完成儲存後，告訴後端「任務完成」。
5.  後端再將成功的結果以 **JSON 資料格式**回傳給前端。
6.  前端收到成功的訊息後，更新介面，讓您能立刻看到剛剛新增的習慣。

下圖清晰地展示了這個流程與各元件之間的關係：

```mermaid
graph TD
    subgraph "您的電腦或手機"
    User[使用者]
    Browser["瀏覽器 (前端應用)"]
    end
    subgraph "遠端伺服器"
    Server["後端伺服器 (應用層)"]
    Database[("資料庫 (資料層)")]
    end
    User -- "1. 互動操作 (點擊、輸入)" --> Browser
    Browser -- "2. 發送 HTTP 請求" --> Server
    Server -- "5. 回應 JSON 資料" --> Browser
    Browser -- "6. 更新畫面" --> User
    Server -- "3. 存取資料 (讀/寫)" --> Database
    Database -- "4. 回傳結果" --> Server
    style User fill:#d4edda,stroke:#155724
    style Browser fill:#cce5ff,stroke:#004085
    style Server fill:#f8d7da,stroke:#721c24
    style Database fill:#fff3cd,stroke:#856404
